<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index.html :: dynamic(~{::main})}"> <!--  thay toàn bộ nd trong tag main vào dynamic(main) ở bên layout/index -->
<body>
	<main th:object="${product}">
    <section class="bg-light-grey pt-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 pe-0">
                    <div class="card none mb-3 border-0" style="border-radius: 0px; height: 600px">
                        <img class="card-img img-fluid" th:src="@{|/images/products/*{product_img1}|}" alt="Card image cap" id="product-detail">
                    	<div class="row mx-2">
                        <!--Start Controls-->
                        <div class="col-1 align-self-center">
                            <a href="#multi-item-example" role="button" data-bs-slide="prev">
                                <i class="text-dark fa fa-chevron-left"></i>
                                <span class="sr-only">Previous</span>
                            </a>
                        </div>
                        <!--End Controls-->
                        <!--Start Carousel Wrapper-->
                        <div id="multi-item-example" class="col-10 carousel slide carousel-multi-item" data-bs-ride="carousel">
                            <!--Start Slides-->
                            <div class="carousel-inner product-links-wap" role="listbox">
                                <!--First slide-->
                                <div class="carousel-item active">
                                    <div class="row m-1 border">
                                    	<div class="col-3 border-right">
                                            <a href="#">
                                                <img class="card-img img-fluid" th:src="@{|/images/products/*{product_img1}|}" alt="Product Image 2">
                                            </a>
                                        </div>
                                        <div class="col-3 border-right">
                                            <a href="#">
                                                <img class="card-img img-fluid" th:src="@{|/images/products/*{product_img2}|}" alt="Product Image 2">
                                            </a>
                                        </div>
                                        <div class="col-3 border-right">
                                            <a href="#">
                                                <img class="card-img img-fluid" th:src="@{|/images/products/*{product_img3}|}" alt="Product Image 3">
                                            </a>
                                        </div>
                                        <div class="col-3">
                                            <a href="#">
                                                <img class="card-img img-fluid" th:src="@{|/images/products/*{product_img4}|}" alt="Product Image 4">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!--/.First slide-->
                            </div>
                            <!--End Slides-->
                        </div>
                        <!--End Carousel Wrapper-->
                        <!--Start Controls-->
                        <div class="col-1 align-self-center">
                            <a href="#multi-item-example" role="button" data-bs-slide="next">
                                <i class="text-dark fa fa-chevron-right"></i>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                        <!--End Controls-->
                    </div>
                    </div>
                </div>
                <!-- col end -->
                <div class="col-lg-8 ps-0">
                    <div class="card none border-0 border-start" style="border-radius: 0px; height: 600px">
                        <div class="card-body">
                            <h1 class="h3 text-dark">[(*{product_name})]</h1>
                            <p class="mb-2">
                                <i class="fa fa-star text-warning"></i>
                                <i class="fa fa-star text-warning"></i>
                                <i class="fa fa-star text-warning"></i>
                                <i class="fa fa-star text-warning"></i>
                                <i class="fa fa-star text-secondary"></i>
                                <span class="list-inline-item text-dark">Rating 4.8 | 36 Comments</span>
                            </p>
                            <p class="h2 text-danger">[(*{#numbers.formatDecimal(product_price, 3,'POINT', 0, 'COMMA')})]<sup>đ</sup></p>
							<div class="card none mb-4">
								<div class="card-header text-danger fw-bold" style="background: #FFD9D9">
									<i class="bi bi-gift-fill"></i> Quà tặng khuyến mãi
								</div>
									<p class="ms-3 card-text"><i class="text-danger bi bi-1-circle-fill"></i> <span>[(*{product_gifts})]</span></p>
							</div>
                            <div class="col-6 d-grid mb-3">
                            	<a th:attr="ng-click=@{|cart.add(*{id})|}" class="btn btn-sm text-white" style="background: #E30019">
                                    <h1 class="h3 fw-bold mb-0">Mua Ngay</h1> <p class="mb-0">giao tận nơi hoặc nhận tại cửa hàng</p>
                            	</a>
                            </div>
                            <th:block th:if="*{product_benefits != 	NULL}">
                            <div class="text-dark">
                            	<h1 class="h4 text-dark fw-bold">Quyền lợi: </h1>
                            	[(*{product_benefits})]
                            </div>
                            </th:block>
                            <th:block th:if="*{product_info != 	NULL}">
                            <div class="text-dark">
                            	<h1 class="h4 text-dark fw-bold">Thông tin chung: </h1>
                            	[(*{product_info})]
                            </div>
                            </th:block>
						</div>	
                    </div>
                </div>
                </div>
                <div class="row mt-3">
            		<div class="col-lg-12">
						<div class="card none">
							<div class="card-header"><h1 class="h3 text-dark">Mô tả sản phẩm</h1></div>
							<div class="card-body">
								<h1 class="h4 text-dark card-title">Thông số sản phẩm:</h1>
								[(*{product_desc})] <!-- TABLE PRODUCT DESCRIPTION -->
							</div>
						</div>
            		</div>
            	</div>
            </div>
    </section>
    <!-- Close Content -->

    <!-- Start Article -->
    <section class="py-5 product-store">
        <div class="container">
            <div class="row text-left p-2 pb-3">
                <h1 class="h3 text-dark fw-bold">Sản phẩm tương tự</h1>
            </div>
            <!--Start Carousel Wrapper-->
            <div id="carousel-related-product">
            <div class="row">
            	<th:block th:each="p: *{productModel.products}">
                <div class="p-2 pb-3 col-lg-3 col-md-6 col-sm-6">
					<div class="card mb-3">
						<div class="product-item1">
							<div class="d-flex justify-content-between p-2">
									<th:block th:if="${p.productModel.productType.id == 1}"> <!-- Tức là laptop -->
										<a th:href="@{|/shop/laptop/${p.id}|}">
											<p class="fw-bold mb-0 text-dark" style="overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 2; display: -webkit-box; -webkit-box-orient: vertical;">[(${p.product_name})]</p>
										</a>
									</th:block>
									<th:block th:if="${p.productModel.productType.id == 2}"> <!-- Tức là linh kiện -->
										<a th:href="@{|/shop/linhkien/${p.id}|}">
											<p class="fw-bold mb-0 text-dark" style="overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 2; display: -webkit-box; -webkit-box-orient: vertical;">[(${p.product_name})]</p>
										</a>
									</th:block>
									<th:block th:if="${p.productModel.productType.id == 3}"> <!-- Tức là màn hình -->
										<a th:href="@{|/shop/manhinh/${p.id}|}">
											<p class="fw-bold mb-0 text-dark" style="overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 2; display: -webkit-box; -webkit-box-orient: vertical;">[(${p.product_name})]</p>
										</a>
									</th:block>
							</div>	
							<th:block th:if="${p.productModel.productType.id == 1}"> <!-- Tức là laptop -->	
								<a th:href="@{|/shop/laptop/${p.id}|}">
									<img th:src="@{|/images/products/${p.product_img1}|}" class="card-img-top w-100" style="height: 260px" alt="Product" />
								</a>
							</th:block>
							<th:block th:if="${p.productModel.productType.id == 2}"> <!-- Tức là linhkien -->	
								<a th:href="@{|/shop/linhkien/${p.id}|}">
									<img th:src="@{|/images/products/${p.product_img1}|}" class="card-img-top w-100" style="height: 260px" alt="Product" />
								</a>
							</th:block>
							<th:block th:if="${p.productModel.productType.id == 3}"> <!-- Tức là manhinh -->	
								<a th:href="@{|/shop/manhinh/${p.id}|}">
									<img th:src="@{|/images/products/${p.product_img1}|}" class="card-img-top w-100" style="height: 260px" alt="Product" />
								</a>
							</th:block>
							<div class="card-body">
								<div class="d-flex justify-content-between mb-3">
									<h5 class="mb-0">Giá sản phẩm</h5>
									<h5 class="text-dark mb-0">[(${#numbers.formatDecimal(p.product_price, 3,'POINT', 0, 'COMMA')})]<sup>đ</sup></h5>
								</div>

								<div class="d-flex justify-content-beetween mb-3">
									<div class="small text-warning">
										<i class="fa fa-star"></i> 
										<i class="fa fa-star"></i> 
										<i class="fa fa-star"></i> 
										<i class="fa fa-star"></i> 
										<i class="fa fa-star"></i> <span>(đánh giá)</span>
									</div>
								</div>
							</div>
							<div class="cart-concern">
								<ul class="list-unstyled">
									<li><a th:attr="ng-click=@{|cart.add(${p.id})|}" class="btn btn-danger btn-lg text-white ps-2 pe-2"><i class="fa fa-cart-plus"></i> Thêm vào giỏ</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
               	</th:block>
				</div> <!-- ROW -->
            </div> 
        </div>
    </section>
    <script>
    $('#carousel-related-product').slick({
        infinite: true,
        arrows: false,
        slidesToShow: 4,
        slidesToScroll: 3,
        dots: true,
        responsive: [{
                breakpoint: 1024,
                settings: {
                    slidesToShow: 3,
                    slidesToScroll: 3
                }
            },
            {
                breakpoint: 600,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 3
                }
            },
            {
                breakpoint: 480,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 3
                }
            }
        ]
    });
    </script>
	</main>
</body>